<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:p="http://primefaces.org/ui"
  template="/WEB-INF/layout/seasons.xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html">

  <ui:param name="title" value="Filme in der Spielzeit" />

  <ui:define name="content">
    <h:form>

      <h1><h:outputText value="#{movieDetailsView.movie.title}" /></h1>

      <p:linkButton value="bearbeiten"
                    icon="pi pi-pencil"
                    href="../../catalogs/movies/editor.xhtml"
                    styleClass="mb-4"
                    rendered="#{not userContext.restricted}">
        <f:param name="productionId" value="#{movieDetailsView.movie.id}" />
      </p:linkButton>

      <p:card>
        <div class="grid">
          <div class="col-12 md:col-8">
            <dl class="data-list">
              <dt>Inhalt</dt>
              <dd><h:outputText value="#{movieDetailsView.movie.description}" escape="false" /></dd>

              <dt>Land</dt>
              <dd><h:outputText value="#{movieDetailsView.movie.productionCountries}" /></dd>

              <dt>Jahr</dt>
              <dd><h:outputText value="#{movieDetailsView.movie.productionYear}" /></dd>

              <dt>Laufzeit</dt>
              <dd><h:outputText value="#{movieDetailsView.movie.durationInMinutes}" /> min.</dd>

              <dt>Altersfreigabe</dt>
              <dd><h:outputText value="#{movieDetailsView.movie.rating}" /></dd>

              <dt>Altersempfehlung</dt>
              <dd><h:outputText value="#{movieDetailsView.movie.fromAge}" /></dd>

              <dt>Verleih</dt>
              <dd><h:outputText value="#{movieDetailsView.movie.agency.name}" /></dd>
            </dl>
          </div>
          <div class="col-12 md:col-4">
            <h:graphicImage url="/webservice/attachments/#{movieDetailsView.poster.id}/datastream"
                            alt="#{movieDetailsView.poster.caption}"
                            styleClass="img-attachment"
                            rendered="#{movieDetailsView.poster != null and movieDetailsView.poster.mediaType == 'IMAGE'}"/>
          </div>
        </div>
      </p:card>

    </h:form>
  </ui:define>

</ui:composition>